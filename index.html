<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lộ Trình HSA Chi Tiết (Micro-Tasks)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .tab-active { border-bottom: 2px solid #2563eb; color: #2563eb; font-weight: 600; background-color: #eff6ff; }
        .tab-inactive { color: #6b7280; }
        .checkbox-wrapper input:checked + span {
            text-decoration: line-through;
            color: #9ca3af;
        }
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        .sub-task-line {
            border-left: 2px solid #e5e7eb;
            margin-left: 0.6rem;
            padding-left: 1rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-white shadow-sm z-50 flex-none">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fa-solid fa-list-check text-blue-600 text-2xl mr-2"></i>
                    <span class="font-bold text-xl text-gray-900 tracking-tight">HSA Master Plan</span>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <span class="block text-xs text-gray-500">Còn lại</span>
                        <span class="block font-bold text-red-600"><span id="days">90</span> ngày</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="flex-1 overflow-hidden flex flex-col md:flex-row max-w-7xl mx-auto w-full">
        
        <!-- Left Sidebar: Tabs (Navigation) -->
        <div class="md:w-64 bg-white border-r border-gray-200 flex-none overflow-y-auto">
            <div class="p-4">
                <h2 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Giai đoạn</h2>
                <div class="space-y-1">
                    <button onclick="switchTab('month1')" id="tab-month1" class="w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors tab-active">
                        <i class="fa-solid fa-layer-group mr-2"></i>Tháng 1: Xây Nền
                    </button>
                    <button onclick="switchTab('month2')" id="tab-month2" class="w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors tab-inactive">
                        <i class="fa-solid fa-jet-fighter mr-2"></i>Tháng 2: Tăng Tốc
                    </button>
                    <button onclick="switchTab('month3')" id="tab-month3" class="w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors tab-inactive">
                        <i class="fa-solid fa-flag-checkered mr-2"></i>Tháng 3: Về Đích
                    </button>
                </div>

                <div class="mt-8">
                    <h2 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Tiến độ tổng</h2>
                    <div class="bg-gray-200 rounded-full h-2.5 mb-2">
                        <div id="total-progress" class="bg-green-500 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                    </div>
                    <div class="text-xs text-right text-gray-500" id="progress-text">0% hoàn thành</div>
                </div>
            </div>
        </div>

        <!-- Right Content: Detailed Checklists -->
        <div class="flex-1 overflow-y-auto bg-gray-50 p-4 md:p-8">
            
            <!-- Month 1 -->
            <div id="content-month1" class="space-y-6 animate-fade-in max-w-4xl mx-auto">
                <div class="flex justify-between items-end border-b pb-4">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Tháng 1: Lấp Lỗ Hổng & Nền Tảng</h1>
                        <p class="text-sm text-gray-500 mt-1">Trọng tâm: Đại số 11, Tích phân 12, Ngữ pháp Tiếng Việt</p>
                    </div>
                </div>

                <!-- Math Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-blue-50 px-6 py-4 border-b border-blue-100 flex justify-between items-center">
                        <h3 class="font-bold text-blue-800"><i class="fa-solid fa-calculator mr-2"></i>Toán Học (Cấp cứu gốc 11 & 12)</h3>
                        <span class="text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded">Quan trọng nhất</span>
                    </div>
                    <div class="p-6 space-y-6" id="m1-math-container"></div>
                </div>

                <!-- Literature Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-orange-50 px-6 py-4 border-b border-orange-100">
                        <h3 class="font-bold text-orange-800"><i class="fa-solid fa-book-open mr-2"></i>Ngữ Văn & Tiếng Việt</h3>
                    </div>
                    <div class="p-6 space-y-6" id="m1-lit-container"></div>
                </div>

                <!-- English Section -->
                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-purple-50 px-6 py-4 border-b border-purple-100">
                        <h3 class="font-bold text-purple-800"><i class="fa-solid fa-language mr-2"></i>Tiếng Anh (THPT Backup)</h3>
                    </div>
                    <div class="p-6 space-y-6" id="m1-eng-container"></div>
                </div>
            </div>

            <!-- Month 2 -->
            <div id="content-month2" class="space-y-6 hidden animate-fade-in max-w-4xl mx-auto">
                <div class="flex justify-between items-end border-b pb-4">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Tháng 2: Luyện Dạng & Tăng Tốc</h1>
                        <p class="text-sm text-gray-500 mt-1">Trọng tâm: Oxyz, Số liệu thống kê, Đọc hiểu văn bản</p>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-blue-50 px-6 py-4 border-b border-blue-100">
                        <h3 class="font-bold text-blue-800"><i class="fa-solid fa-calculator mr-2"></i>Toán Học (Ăn điểm dễ)</h3>
                    </div>
                    <div class="p-6 space-y-6" id="m2-math-container"></div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-orange-50 px-6 py-4 border-b border-orange-100">
                        <h3 class="font-bold text-orange-800"><i class="fa-solid fa-book-open mr-2"></i>Ngữ Văn (Kỹ năng đọc)</h3>
                    </div>
                    <div class="p-6 space-y-6" id="m2-lit-container"></div>
                </div>
                 <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-purple-50 px-6 py-4 border-b border-purple-100">
                        <h3 class="font-bold text-purple-800"><i class="fa-solid fa-language mr-2"></i>Tiếng Anh (Nâng cao)</h3>
                    </div>
                    <div class="p-6 space-y-6" id="m2-eng-container"></div>
                </div>
            </div>

            <!-- Month 3 -->
            <div id="content-month3" class="space-y-6 hidden animate-fade-in max-w-4xl mx-auto">
                <div class="flex justify-between items-end border-b pb-4">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">Tháng 3: Về Đích</h1>
                        <p class="text-sm text-gray-500 mt-1">Trọng tâm: Luyện đề tổng hợp, quản lý thời gian</p>
                    </div>
                </div>
                 <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                    <div class="bg-red-50 px-6 py-4 border-b border-red-100">
                        <h3 class="font-bold text-red-800"><i class="fa-solid fa-stopwatch mr-2"></i>Chiến thuật phòng thi</h3>
                    </div>
                    <div class="p-6 space-y-6" id="final-container"></div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // --- DATA WITH DETAILED SUB-TASKS ---
        const detailedData = {
            m1: {
                math: [
                    {
                        title: "Chuyên đề 1: Đại số tổ hợp (Lớp 11) - Cực quan trọng cho HSA",
                        subs: [
                            "Học quy tắc cộng và quy tắc nhân",
                            "Phân biệt Hoán vị (Pn), Chỉnh hợp (An), Tổ hợp (Cn)",
                            "Công thức Nhị thức Newton (Khai triển cơ bản)",
                            "Bài toán đếm số tự nhiên (Đếm số chẵn/lẻ, chia hết)"
                        ]
                    },
                    {
                        title: "Chuyên đề 2: Xác suất (Lớp 11)",
                        subs: [
                            "Định nghĩa không gian mẫu & Biến cố",
                            "Công thức tính xác suất cổ điển P(A) = n(A)/n(Ω)",
                            "Biến cố đối, biến cố giao, biến cố hợp",
                            "Quy tắc cộng và nhân xác suất (Độc lập/Xung khắc)"
                        ]
                    },
                    {
                        title: "Chuyên đề 3: Dãy số (Lớp 11)",
                        subs: [
                            "Cấp số cộng: Công thức số hạng tổng quát (un), Tổng n số hạng (Sn)",
                            "Cấp số nhân: Công thức un, Sn (Chú ý điều kiện q < 1)",
                            "Bài toán thực tế lãi suất (Lãi kép - Ứng dụng cấp số nhân)"
                        ]
                    },
                    {
                        title: "Chuyên đề 4: Tích phân (Lớp 12)",
                        subs: [
                            "Thuộc bảng nguyên hàm cơ bản (x^n, sin, cos, e^x, 1/x)",
                            "Phương pháp đổi biến số (Đặt t)",
                            "Phương pháp tích phân từng phần (Nhất lô, nhì đa, tam lượng, tứ mũ)",
                            "Ứng dụng tích phân tính Diện tích hình phẳng (S)"
                        ]
                    }
                ],
                lit: [
                    {
                        title: "Tiếng Việt: Từ ngữ & Ngữ pháp (HSA)",
                        subs: [
                            "Phân biệt từ Hán Việt dễ nhầm lẫn (Yếu điểm vs Điểm yếu...)",
                            "Chữa lỗi sai về quan hệ từ (Và, nhưng, mà, thì...)",
                            "Chữa lỗi sai logic câu (Câu thiếu chủ ngữ, câu mơ hồ)",
                            "Các biện pháp tu từ (Ẩn dụ, Hoán dụ, Nhân hóa...)"
                        ]
                    },
                    {
                        title: "Văn học 12: Tác phẩm truyện (THPT)",
                        subs: [
                            "Vợ chồng A Phủ: Nắm diễn biến tâm lý Mị trong đêm mùa đông",
                            "Vợ Nhặt: Nắm tình huống truyện, tâm lý Tràng và bà cụ Tứ",
                            "Rừng xà nu & Chiếc thuyền ngoài xa: Nắm cốt truyện và ý nghĩa biểu tượng"
                        ]
                    }
                ],
                eng: [
                    {
                        title: "Ngữ pháp nền tảng (THPT)",
                        subs: [
                            "12 Thì: Tập trung Hiện tại hoàn thành & Quá khứ đơn",
                            "Câu điều kiện: Loại 1, 2, 3 và Đảo ngữ câu điều kiện",
                            "Mệnh đề quan hệ (Who, Whom, Which, That...)",
                            "Câu bị động (Passive Voice)"
                        ]
                    }
                ]
            },
            m2: {
                math: [
                    {
                        title: "Chuyên đề 5: Oxyz - Hình tọa độ (Lớp 12 - Dễ kiếm điểm)",
                        subs: [
                            "Hệ trục tọa độ: Tích vô hướng, tích có hướng",
                            "Phương trình mặt cầu (S): Tìm tâm I và bán kính R",
                            "Phương trình mặt phẳng (P): Vectơ pháp tuyến",
                            "Phương trình đường thẳng (d): Vectơ chỉ phương",
                            "Công thức khoảng cách: Từ điểm đến mặt phẳng"
                        ]
                    },
                    {
                        title: "Chuyên đề 6: Số phức (Lớp 12)",
                        subs: [
                            "Khái niệm: Phần thực, phần ảo, số phức liên hợp",
                            "Các phép toán: Cộng, trừ, nhân, chia số phức",
                            "Modun của số phức và tính chất",
                            "Giải phương trình bậc 2 với hệ số thực (nghiệm phức)"
                        ]
                    },
                    {
                        title: "Chuyên đề 7: Số liệu & Thống kê (Lớp 10 - Dành cho HSA)",
                        subs: [
                            "Các số đặc trưng: Số trung bình, Trung vị, Mốt (Mode)",
                            "Phương sai và Độ lệch chuẩn (Bấm máy tính Casio)",
                            "Biểu đồ: Đọc hiểu biểu đồ tròn, biểu đồ cột (Tư duy định lượng)",
                            "Mệnh đề & Tập hợp: Các phép toán Giao, Hợp, Hiệu"
                        ]
                    }
                ],
                lit: [
                    {
                        title: "Kỹ năng Đọc hiểu văn bản (HSA)",
                        subs: [
                            "Đọc hiểu văn bản Chính luận: Tìm luận điểm chính",
                            "Đọc hiểu văn bản Khoa học: Tìm thông tin chi tiết",
                            "Đọc hiểu văn bản Báo chí: Xác định thái độ tác giả",
                            "Kỹ năng điền từ vào chỗ trống (Dựa vào ngữ cảnh)"
                        ]
                    },
                    {
                        title: "Văn học 12: Thơ (THPT)",
                        subs: [
                            "Tây Tiến: Vẻ đẹp bi tráng, hình tượng người lính",
                            "Việt Bắc: Tính dân tộc, nỗi nhớ",
                            "Đất Nước: Tư tưởng 'Đất Nước của Nhân Dân'"
                        ]
                    }
                ],
                eng: [
                    {
                        title: "Từ vựng & Cấu trúc nâng cao",
                        subs: [
                            "Phrasal Verbs thông dụng (Look for, Take after, Give up...)",
                            "Idioms (Thành ngữ) thường gặp trong đề thi",
                            "Collocations (Các cụm từ cố định)",
                            "Phân biệt các từ dễ gây nhầm lẫn (Distinguish/Discriminate...)"
                        ]
                    }
                ]
            },
            m3: {
                final: [
                    {
                        title: "Luyện đề & Chiến thuật",
                        subs: [
                            "Luyện đề HSA 1: Bấm giờ nghiêm ngặt 195 phút (Làm cả phần Khoa học theo mẹo)",
                            "Luyện đề HSA 2: Tập trung sửa lỗi sai phần Toán & Tiếng Việt",
                            "Luyện đề THPT: Giải đề Toán & Anh của Bộ GD các năm trước",
                            "Rà soát Casio: Các thủ thuật bấm máy tính nhanh (Tích phân, Số phức)"
                        ]
                    },
                     {
                        title: "Chuẩn bị tâm lý & Sức khỏe",
                        subs: [
                            "Ngủ đủ 7 tiếng/ngày trong tuần cuối",
                            "Chuẩn bị giấy tờ tùy thân, máy tính bỏ túi",
                            "Xem lại sơ đồ địa điểm thi"
                        ]
                    }
                ]
            }
        };

        // --- RENDER LOGIC ---
        function renderDetailedChecklist(containerId, sectionData, prefix) {
            const container = document.getElementById(containerId);
            if (!container) return;

            // If sectionData is array (like final month) or object key logic needed
            const dataToRender = Array.isArray(sectionData) ? sectionData : [];

            container.innerHTML = dataToRender.map((topic, topicIndex) => {
                const topicHtml = `
                    <div class="mb-4 last:mb-0">
                        <h4 class="font-bold text-gray-800 text-sm mb-2">${topic.title}</h4>
                        <div class="space-y-2 sub-task-line">
                            ${topic.subs.map((sub, subIndex) => {
                                const id = `${prefix}-t${topicIndex}-s${subIndex}`;
                                const isChecked = localStorage.getItem(id) === 'true' ? 'checked' : '';
                                return `
                                    <label class="checkbox-wrapper flex items-start space-x-3 cursor-pointer group">
                                        <input type="checkbox" id="${id}" ${isChecked} onchange="toggleCheck('${id}')" 
                                            class="mt-1 form-checkbox h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500 cursor-pointer">
                                        <span class="text-sm text-gray-600 group-hover:text-blue-600 transition-colors select-none">${sub}</span>
                                    </label>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
                return topicHtml;
            }).join('');
        }

        // --- APP INITIALIZATION ---
        function init() {
            // Month 1
            renderDetailedChecklist('m1-math-container', detailedData.m1.math, 'm1-math');
            renderDetailedChecklist('m1-lit-container', detailedData.m1.lit, 'm1-lit');
            renderDetailedChecklist('m1-eng-container', detailedData.m1.eng, 'm1-eng');

            // Month 2
            renderDetailedChecklist('m2-math-container', detailedData.m2.math, 'm2-math');
            renderDetailedChecklist('m2-lit-container', detailedData.m2.lit, 'm2-lit');
            renderDetailedChecklist('m2-eng-container', detailedData.m2.eng, 'm2-eng');

            // Month 3
            renderDetailedChecklist('final-container', detailedData.m3.final, 'm3-final');

            updateProgress();
            startCountdown();
        }

        // --- UTILS ---
        function switchTab(tabName) {
            ['month1', 'month2', 'month3'].forEach(t => {
                document.getElementById(`content-${t}`).classList.add('hidden');
                document.getElementById(`tab-${t}`).classList.remove('tab-active');
                document.getElementById(`tab-${t}`).classList.add('tab-inactive');
            });
            document.getElementById(`content-${tabName}`).classList.remove('hidden');
            document.getElementById(`tab-${tabName}`).classList.add('tab-active');
            document.getElementById(`tab-${tabName}`).classList.remove('tab-inactive');
        }

        function toggleCheck(id) {
            const checkbox = document.getElementById(id);
            localStorage.setItem(id, checkbox.checked);
            updateProgress();
        }

        function updateProgress() {
            const inputs = document.querySelectorAll('input[type="checkbox"]');
            const total = inputs.length;
            let checked = 0;
            inputs.forEach(input => {
                if (input.checked) checked++;
            });

            const percent = total === 0 ? 0 : Math.round((checked / total) * 100);
            document.getElementById('total-progress').style.width = `${percent}%`;
            document.getElementById('progress-text').innerText = `${percent}% hoàn thành`;
        }

        function startCountdown() {
             let targetDate = localStorage.getItem('hsa_target_date');
            if (!targetDate) {
                const date = new Date();
                date.setDate(date.getDate() + 90);
                targetDate = date.getTime();
                localStorage.setItem('hsa_target_date', targetDate);
            }

            const x = setInterval(function() {
                const now = new Date().getTime();
                const distance = targetDate - now;
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                document.getElementById("days").innerHTML = days;
            }, 1000);
        }

        init();
    </script>
</body>
</html>
